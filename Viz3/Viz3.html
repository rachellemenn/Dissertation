<!DOCTYPE html>
<head>
<meta charset="utf-8">
<canvas width="600" height="520" margin = {top: 0, left: 20, bottom: 40, right: 10}></canvas>
</head>
<script src="https://d3js.org/d3.v5.min.js"></script>
<style>
    body{
        background-color:#ecf2f8; 
    }
</style>
<body>
<script>

function loadData(fileName)
{
    return d3.csv(fileName);
}

function Draw() {
var canvas = document.querySelector("canvas"),
    context = canvas.getContext("2d");

var width = canvas.width,
    height = canvas.height,
    radius = Math.min(width, height) / 2;

var colors = [
"#0077b3","#0099e6","#1ab2ff","#66ccff",
];
//Rachelle's comment: changed colors. Also increased the inner radios from 0 to 5 and increased pad angle.

var arc = d3.arc()
    .outerRadius(radius - 10)
    .innerRadius(5)
    .padAngle(0.09)
    .context(context);

var pie = d3.pie().value(function(d){return d.Percent});

var dataPromise = loadData('Vizual3.csv');
dataPromise.then(function(data){
    console.log(data);
    data.forEach(function(d){
        d.Percent = parseFloat(d.Percent);
    });
    console.log(data);
    var arcs = pie(data);
    

    context.translate(width / 2, height / 2);

    //Rachelle's comment: removed globalAlpha so the colours weren't muted.
    // context.globalAlpha = 0.5;
    arcs.forEach(function(d, i) {
        context.beginPath();
        arc(d)
        context.fillStyle = colors[i];
        context.fill();
    });
});

}
</script>


<script>
    window.onload = Draw;
</script>
</body>
</html>